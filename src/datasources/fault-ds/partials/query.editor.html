<query-editor-row query-ctrl="ctrl" can-collapse="true">

    <div class="gf-form-inline">
        <div class="gf-form">
            <label class="gf-form-label query-keyword width-7">SELECT</label>
            <label class="gf-form-label width-7">all alarms</label>
        </div>
    </div>
    <div class="gf-form-inline" ng-repeat="groupSegment in ctrl.restrictionGroupSegments">
        <div class="gf-form">
            <label class="gf-form-label query-keyword width-7">
                <span ng-if="$index == 0">WHERE</span>
                <span ng-if="$index > 0">AND</span>
            </label>
        </div>
        <div ng-repeat="segment in groupSegment" class="gf-form">
            <metric-segment segment="segment" get-options="ctrl.getSuggestions(groupSegment, segment, $index)" on-change="ctrl.segmentUpdated(groupSegment, segment, $index)"></metric-segment>
        </div>
        <div class="gf-form" ng-if="groupSegment.length > 1">
            <buddon class="btn btn-inverse gf-form-btn" ng-click="ctrl.removeGroup(groupSegment)">
                <i class="fa fa-minus"></i>
            </buddon>
        </div>
    </div>

    <div class="gf-form" style="padding-top: 10px">
        <button class="btn btn-inverse gf-form-btn" ng-click="ctrl.clearRestrictions()" ng-show="ctrl.showClearRestrictions()">
            <i class="fa fa-times"></i>&nbsp;Clear Restrictions
        </button>
    </div>
</query-editor-row>
